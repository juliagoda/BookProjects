diff GitQlient-v1.3.0-beta/src/QPinnableTabWidget/FakeCloseButton.h GitQlient-v1.2.0-rc/QPinnableTabWidget/FakeCloseButton.h
1,24c1,2
< #pragma once
< 
< /****************************************************************************************
<  ** QPinnableTabWidget is a library that overrides a QTabWidget to allow the user to pin tabs.
<  **
<  ** Copyright (C) 2020  Francesc Martinez
<  **
<  ** LinkedIn: www.linkedin.com/in/cescmm/
<  ** Web: www.francescmm.com
<  **
<  ** This library is free software; you can redistribute it and/or
<  ** modify it under the terms of the GNU Lesser General Public
<  ** License as published by the Free Software Foundation; either
<  ** version 2 of the License, or (at your option) any later version.
<  **
<  ** This library is distributed in the hope that it will be useful,
<  ** but WITHOUT ANY WARRANTY; without even the implied warranty of
<  ** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
<  ** Lesser General Public License for more details.
<  **
<  ** You should have received a copy of the GNU Lesser General Public
<  ** License along with this library; if not, write to the Free Software
<  ** Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
<  ***************************************************************************************/
---
> #ifndef FAKECLOSEBUTTON_H
> #define FAKECLOSEBUTTON_H
36a15,16
> 
> #endif // FAKECLOSEBUTTON_H
Tylko w GitQlient-v1.2.0-rc/QPinnableTabWidget: .git
diff GitQlient-v1.3.0-beta/src/QPinnableTabWidget/QPinnableTabWidget.cpp GitQlient-v1.2.0-rc/QPinnableTabWidget/QPinnableTabWidget.cpp
32c32,35
<       const auto tabWidget = dynamic_cast<QPinnableTabWidget *>(parentWidget());
---
>       const auto currentPinned = dynamic_cast<QPinnableTabWidget *>(parentWidget())->isPinned(mIndexToMove);
>       const auto newPosIsPinned
>           = dynamic_cast<QPinnableTabWidget *>(parentWidget())->isPinned(indexAtPos(event->pos()));
>       const auto lastPinnedTab = dynamic_cast<QPinnableTabWidget *>(parentWidget())->getLastPinnedTabIndex();
34,42c37,38
<       if (tabWidget)
<       {
<          const auto currentPinned = tabWidget->isPinned(mIndexToMove);
<          const auto newPosIsPinned = tabWidget->isPinned(indexAtPos(event->pos()));
<          const auto lastPinnedTab = tabWidget->getLastPinnedTabIndex();
< 
<          if (!currentPinned && !newPosIsPinned && (event->pos().x() - mDistToStart) > tabRect(lastPinnedTab).right())
<             QTabBar::mouseMoveEvent(event);
<       }
---
>       if (!currentPinned && !newPosIsPinned && (event->pos().x() - mDistToStart) > tabRect(lastPinnedTab).right())
>          QTabBar::mouseMoveEvent(event);
184,187c180
<    if (!mPrepareMenu || mPolicy == ContextMenuPolicy::ShowNever)
<       return;
< 
<    if (mPolicy == ContextMenuPolicy::OnlyUnpinned && mTabState.value(mClickedTab))
---
>    if (!mPrepareMenu)
197c190
<    connect(actions->addAction("Close"), &QAction::triggered, this, [this]() { emit tabCloseRequested(mClickedTab); });
---
>    connect(actions->addAction("Close"), &QAction::triggered, this, [this]() { removeTab(mClickedTab); });
diff GitQlient-v1.3.0-beta/src/QPinnableTabWidget/QPinnableTabWidget.h GitQlient-v1.2.0-rc/QPinnableTabWidget/QPinnableTabWidget.h
1c1,2
< #pragma once
---
> #ifndef QTABWIDGETPIN_H
> #define QTABWIDGETPIN_H
3,24c4
< /****************************************************************************************
<  ** QPinnableTabWidget is a library that overrides a QTabWidget to allow the user to pin tabs.
<  **
<  ** Copyright (C) 2020  Francesc Martinez
<  **
<  ** LinkedIn: www.linkedin.com/in/cescmm/
<  ** Web: www.francescmm.com
<  **
<  ** This library is free software; you can redistribute it and/or
<  ** modify it under the terms of the GNU Lesser General Public
<  ** License as published by the Free Software Foundation; either
<  ** version 2 of the License, or (at your option) any later version.
<  **
<  ** This library is distributed in the hope that it will be useful,
<  ** but WITHOUT ANY WARRANTY; without even the implied warranty of
<  ** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
<  ** Lesser General Public License for more details.
<  **
<  ** You should have received a copy of the GNU Lesser General Public
<  ** License along with this library; if not, write to the Free Software
<  ** Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
<  ***************************************************************************************/
---
> #include <qpinnabletabwidget_global.h>
29c9
< class QPinnableTabWidget : public QTabWidget
---
> class QPinnableTabWidgetLIB_EXPORT QPinnableTabWidget : public QTabWidget
34,40d13
<    enum class ContextMenuPolicy
<    {
<       OnlyUnpinned,
<       ShowAlways,
<       ShowNever
<    };
< 
57,58d29
<    void setContextMenuPolicy(ContextMenuPolicy policy) { mPolicy = policy; }
< 
74d44
<    ContextMenuPolicy mPolicy;
84a55
> #endif // QTABWIDGETPIN_H
diff GitQlient-v1.3.0-beta/src/QPinnableTabWidget/QPinnableTabWidget.pri GitQlient-v1.2.0-rc/QPinnableTabWidget/QPinnableTabWidget.pri
1,2d0
< INCLUDEPATH += $$PWD
< 
12c10
<     $$PWD/qpinnabletabwidget_global.h
---
>     $$PWD/QPinnableTabWidget_global.h
diff GitQlient-v1.3.0-beta/src/QPinnableTabWidget/RealCloseButton.h GitQlient-v1.2.0-rc/QPinnableTabWidget/RealCloseButton.h
1,24c1,2
< #pragma once
< 
< /****************************************************************************************
<  ** QPinnableTabWidget is a library that overrides a QTabWidget to allow the user to pin tabs.
<  **
<  ** Copyright (C) 2020  Francesc Martinez
<  **
<  ** LinkedIn: www.linkedin.com/in/cescmm/
<  ** Web: www.francescmm.com
<  **
<  ** This library is free software; you can redistribute it and/or
<  ** modify it under the terms of the GNU Lesser General Public
<  ** License as published by the Free Software Foundation; either
<  ** version 2 of the License, or (at your option) any later version.
<  **
<  ** This library is distributed in the hope that it will be useful,
<  ** but WITHOUT ANY WARRANTY; without even the implied warranty of
<  ** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
<  ** Lesser General Public License for more details.
<  **
<  ** You should have received a copy of the GNU Lesser General Public
<  ** License along with this library; if not, write to the Free Software
<  ** Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
<  ***************************************************************************************/
---
> #ifndef REALCLOSEBUTTON_H
> #define REALCLOSEBUTTON_H
40a19,20
> 
> #endif // REALCLOSEBUTTON_H
